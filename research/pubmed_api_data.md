# PubMed API - Какие данные можно получить

## Основная информация о PubMed API

### API система: E-utilities (Entrez Programming Utilities)
- **База URL**: https://eutils.ncbi.nlm.nih.gov/entrez/eutils/
- **Основные инструменты**: ESearch (поиск) + EFetch (получение данных)
- **Форматы данных**: XML, JSON, plain text
- **Ограничения**: Максимум 3 запроса/секунду, до 10,000 записей за запрос

## Какие данные доступны из PubMed

### 1. Метаданные статей
- **PMID** (PubMed ID) - уникальный идентификатор
- **Название статьи**
- **Авторы и аффилиации**
- **Журнал публикации**
- **Дата публикации**
- **DOI**
- **Абстракт**
- **MeSH термины** (медицинские предметные рубрики)
- **Ключевые слова**

### 2. Данные о взаимодействиях БАДов
- Научные статьи о взаимодействиях лекарство-БАД
- Исследования эффективности витаминов и минералов
- Клинические испытания БАДов
- Систематические обзоры и мета-анализы
- Отчеты о побочных эффектах

### 3. Специфичные для нашего проекта данные
- Взаимодействия витамин-витамин
- Взаимодействия минерал-минерал
- Взаимодействия БАД-лекарство
- Данные о биодоступности
- Рекомендуемые дозировки
- Противопоказания

## Примеры запросов для нашего проекта

### 1. Базовый поиск взаимодействий витаминов
```
GET https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=vitamin+interaction&retmode=json&retmax=100
```

### 2. Взаимодействия БАДов с лекарствами
```
GET https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=supplement+AND+drug+interaction&retmode=json&retmax=100
```

### 3. Специфичные взаимодействия (с MeSH терминами)
```
GET https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=vitamin+D[mesh]+AND+calcium[mesh]+AND+interaction&retmode=json
```

### 4. Взаимодействия минералов
```
GET https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=mineral+interaction+absorption&retmode=json&retmax=50
```

### 5. Ограничение по времени (последние 5 лет)
```
GET https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=supplement+interaction&mindate=2019&maxdate=2024&datetype=pdat&retmode=json
```

### 6. Поиск в заголовках статей
```
GET https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=vitamin+interaction[title]&retmode=json
```

## Двухэтапный процесс получения данных

### Этап 1: ESearch - Получение списка PMID
**Результат**: Список идентификаторов статей (PMID) по запросу

**Пример ответа JSON:**
```json
{
  "header": {
    "type": "esearch",
    "version": "0.3"
  },
  "esearchresult": {
    "count": "156789",
    "retmax": "20",
    "retstart": "0",
    "idlist": ["38234567", "38234566", "38234565"],
    "translationset": [...],
    "querytranslation": "vitamin[All Fields] AND interaction[All Fields]"
  }
}
```

### Этап 2: EFetch - Получение полных данных статей
```
GET https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&id=38234567,38234566&retmode=xml&rettype=abstract
```

**Доступные форматы (rettype):**
- `abstract` - только абстракт
- `medline` - полная запись MEDLINE
- `xml` - полные данные в XML
- `uilist` - только список ID

## Специальные возможности для анализа взаимодействий

### 1. MeSH термины (Medical Subject Headings)
- Стандартизированные медицинские термины
- Иерархическая структура
- Примеры для БАДов:
  - `Dietary Supplements[mesh]`
  - `Vitamin D[mesh]`
  - `Drug Interactions[mesh]`
  - `Minerals[mesh]`

### 2. Поиск по типам исследований
- `clinical trial[pt]` - клинические испытания
- `randomized controlled trial[pt]` - рандомизированные испытания
- `systematic review[pt]` - систематические обзоры
- `meta analysis[pt]` - мета-анализы

### 3. Булевые операторы
- `AND` - все термины должны присутствовать
- `OR` - любой из терминов
- `NOT` - исключить термин
- `"exact phrase"` - точная фраза

## Примеры сложных запросов

### 1. Клинические испытания взаимодействий витамина D
```
vitamin+D[mesh]+AND+drug+interaction[mesh]+AND+clinical+trial[pt]
```

### 2. Систематические обзоры о БАДах за последние 3 года
```
dietary+supplements[mesh]+AND+systematic+review[pt]+AND+2021:2024[pdat]
```

### 3. Взаимодействия кальция и магния
```
calcium[mesh]+AND+magnesium[mesh]+AND+(interaction+OR+absorption+OR+bioavailability)
```

## Что мы можем извлечь для нашего приложения

### 1. База данных взаимодействий
- Парсинг абстрактов для выявления взаимодействий
- Извлечение названий БАДов и лекарств
- Определение типа взаимодействия (синергизм/антагонизм)
- Уровень доказательности

### 2. Данные о дозировках
- Рекомендуемые дозировки из клинических исследований
- Токсичные дозировки
- Терапевтические окна

### 3. Сведения о побочных эффектах
- Частота побочных эффектов
- Серьезность реакций
- Группы риска

### 4. Механизмы взаимодействий
- Фармакокинетические взаимодействия
- Фармакодинамические взаимодействия
- Метаболические пути

## Ограничения PubMed API

### 1. Технические ограничения
- Максимум 3 запроса в секунду
- До 10,000 записей за один запрос
- Требуется API ключ для больших объемов

### 2. Ограничения данных
- Только метаданные и абстракты (не полные тексты)
- Качество данных зависит от авторов статей
- Нет стандартизированного формата для взаимодействий
- Нужна обработка естественного языка для извлечения структурированных данных

### 3. Юридические ограничения
- Данные в общественном достоянии
- Нет ограничений на коммерческое использование
- Требуется указание источника

## Рекомендации по использованию

### 1. Стратегия запросов
- Начать с широких запросов, затем уточнять
- Использовать MeSH термины для точности
- Комбинировать с фильтрами по типу исследования
- Ограничивать по времени для актуальности

### 2. Обработка данных
- Использовать NLP для извлечения взаимодействий из абстрактов
- Создать словарь синонимов для БАДов
- Ранжировать данные по качеству исследований
- Агрегировать информацию из множества источников

### 3. Интеграция с другими API
- Комбинировать с DrugBank для проверки
- Использовать FDA API для дополнительной безопасности
- Дополнять коммерческими базами для полноты